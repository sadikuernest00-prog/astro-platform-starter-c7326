<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loan Agreement (Independent Parties)</title>
  <style>
    :root{
      --bg:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --blue:#2563eb;
      --soft:#f8fafc;
      --danger:#b91c1c;
      --radius:16px;
      --shadow: 0 10px 30px rgba(2,6,23,.08);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:linear-gradient(180deg,#ffffff 0%, #fbfdff 100%);
    }
    .wrap{
      max-width: 980px;
      margin: 40px auto;
      padding: 0 18px 60px;
    }
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 18px;
    }
    .title{
      font-size: clamp(26px, 3.6vw, 44px);
      line-height:1.08;
      letter-spacing:-.02em;
      margin: 6px 0 10px;
      font-weight: 800;
    }
    .subtitle{
      margin:0 0 18px;
      color:var(--muted);
      max-width: 70ch;
      font-size: 15px;
      line-height: 1.6;
    }
    .card{
      background:var(--bg);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cardHead{
      padding:16px 18px;
      border-bottom:1px solid var(--line);
      background: var(--soft);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      border:1px solid var(--line);
      background:#fff;
      padding:8px 10px;
      border-radius:999px;
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .pill b{color:var(--text)}
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    button{
      border:1px solid var(--line);
      background:#fff;
      padding:10px 12px;
      border-radius:12px;
      font-weight:600;
      cursor:pointer;
      transition:.15s transform, .15s background, .15s border-color;
    }
    button:hover{transform: translateY(-1px); border-color:#cbd5e1}
    .primary{
      background: var(--blue);
      border-color: var(--blue);
      color:#fff;
    }
    .primary:hover{background:#1d4ed8; border-color:#1d4ed8}
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      padding: 16px 18px;
      border-bottom:1px solid var(--line);
    }
    @media (max-width: 820px){
      .grid{grid-template-columns:1fr}
    }
    label{
      display:block;
      font-size:12px;
      color:var(--muted);
      margin:0 0 6px;
      font-weight:600;
    }
    input, select, textarea{
      width:100%;
      border:1px solid var(--line);
      border-radius: 12px;
      padding:10px 12px;
      font-size:14px;
      outline:none;
      background:#fff;
    }
    textarea{min-height:80px; resize:vertical}
    input:focus, textarea:focus, select:focus{
      border-color:#93c5fd;
      box-shadow:0 0 0 4px rgba(59,130,246,.12);
    }
    .agreement{
      padding: 18px;
    }
    .h2{
      font-size:16px;
      margin:0 0 10px;
      letter-spacing:-.01em;
      font-weight:800;
    }
    .legal{
      border:1px solid var(--line);
      border-radius: 14px;
      padding: 16px;
      background:#fff;
      line-height:1.6;
      font-size: 14px;
    }
    .legal h3{
      margin:16px 0 8px;
      font-size:14px;
    }
    .legal p{margin:8px 0}
    .legal .muted{color:var(--muted)}
    .legal .mono{font-family:var(--mono)}
    .warn{
      margin: 12px 0 0;
      padding: 12px 12px;
      border-radius: 14px;
      background: #fff7ed;
      border: 1px solid #fed7aa;
      color: #9a3412;
      font-size: 13px;
      line-height: 1.5;
    }
    .sign{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      padding: 16px 18px 18px;
      border-top:1px solid var(--line);
      background: var(--soft);
    }
    @media (max-width: 820px){
      .sign{grid-template-columns:1fr}
    }
    .sigbox{
      border:1px solid var(--line);
      border-radius: 14px;
      background:#fff;
      padding: 14px;
    }
    .sigrow{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 520px){
      .sigrow{grid-template-columns:1fr}
    }
    .check{
      display:flex;
      gap:10px;
      align-items:flex-start;
      margin-top:10px;
      color:var(--muted);
      font-size: 12px;
      line-height:1.4;
    }
    .check input{width:auto; margin-top:2px}
    .stamp{
      margin-top:10px;
      font-size:12px;
      color:var(--muted);
      font-family:var(--mono);
    }
    .footerNote{
      margin-top: 16px;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.6;
    }
    @media print{
      .topbar, .cardHead, .grid, .warn, .sign, .footerNote{display:none !important;}
      .wrap{margin:0; padding:0}
      .card{border:none; box-shadow:none}
      .agreement{padding:0}
      .legal{border:none; padding:0}
    }
  </style>
</head>
<body>
  <div class="wrap">

    <div class="topbar">
      <div>
        <div class="title">Loan Agreement</div>
        <p class="subtitle">
          This agreement is strictly between the <b>Lender</b> and the <b>Borrower</b>.
          AmicBridge provides a template and signing surface only, and is not a party to the deal.
        </p>
      </div>
      <div class="actions">
        <button type="button" onclick="fillToday()">Insert today’s date</button>
        <button type="button" onclick="window.print()">Print / Save PDF</button>
      </div>
    </div>

    <div class="card">

      <div class="cardHead">
        <div class="pill">Status: <b id="statusText">Draft</b></div>
        <div class="pill">Agreement ID: <b id="agreementId"></b></div>
        <div class="actions">
          <button class="primary" type="button" onclick="lockAgreement()">Lock agreement</button>
          <button type="button" onclick="resetAll()">Reset</button>
        </div>
      </div>

      <!-- Fill-in fields -->
      <div class="grid">
        <div>
          <label>Agreement Date</label>
          <input id="agreementDate" placeholder="YYYY-MM-DD" />
        </div>

        <div>
          <label>Governing Law / Jurisdiction</label>
          <input id="jurisdiction" placeholder="e.g., Norway / Oslo" />
        </div>

        <div>
          <label>Lender Full Legal Name</label>
          <input id="lenderName" placeholder="Full name" />
        </div>

        <div>
          <label>Lender Address</label>
          <input id="lenderAddress" placeholder="Address" />
        </div>

        <div>
          <label>Borrower Full Legal Name</label>
          <input id="borrowerName" placeholder="Full name" />
        </div>

        <div>
          <label>Borrower Address</label>
          <input id="borrowerAddress" placeholder="Address" />
        </div>

        <div>
          <label>Loan Principal Amount</label>
          <input id="principal" placeholder="e.g., 10,000" />
        </div>

        <div>
          <label>Currency</label>
          <select id="currency">
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="NOK">NOK</option>
            <option value="GBP">GBP</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div>
          <label>Interest Rate (annual %)</label>
          <input id="interestRate" placeholder="e.g., 8" />
        </div>

        <div>
          <label>Interest Type</label>
          <select id="interestType">
            <option value="Simple">Simple</option>
            <option value="Compound">Compound</option>
            <option value="None">None (0%)</option>
          </select>
        </div>

        <div>
          <label>Repayment Schedule</label>
          <input id="schedule" placeholder="e.g., Monthly payments of 500" />
        </div>

        <div>
          <label>Final Due Date</label>
          <input id="finalDue" placeholder="YYYY-MM-DD" />
        </div>

        <div style="grid-column:1 / -1;">
          <label>Payment Method / Instructions</label>
          <textarea id="paymentMethod" placeholder="e.g., Bank transfer to IBAN..., or crypto wallet address..., etc."></textarea>
        </div>

        <div style="grid-column:1 / -1;">
          <label>Optional: Collateral / Security (if any)</label>
          <textarea id="collateral" placeholder="Describe collateral (if none, write 'None')."></textarea>
        </div>
      </div>

      <!-- Agreement text -->
      <div class="agreement">
        <div class="h2">Agreement Text</div>
        <div class="legal" id="legalText">
          <!-- JS will render the agreement here -->
        </div>

        <div class="warn">
          <b>Important:</b> This template does not replace legal advice.
          Laws vary by country/state, including consumer lending, interest limits, KYC/AML, and enforcement rules.
        </div>

        <!-- Signatures -->
        <div class="sign">
          <div class="sigbox">
            <div class="h2">Lender Signature</div>
            <div class="sigrow">
              <div>
                <label>Typed Name</label>
                <input id="lenderSigName" placeholder="Type full legal name" />
              </div>
              <div>
                <label>Date/Time (auto)</label>
                <input id="lenderSigTime" readonly />
              </div>
            </div>
            <div class="check">
              <input type="checkbox" id="lenderAgree" />
              <div>
                I confirm I am the Lender (or authorized representative) and I agree to this Loan Agreement.
              </div>
            </div>
            <button class="primary" type="button" onclick="sign('lender')">Sign as Lender</button>
            <div class="stamp" id="lenderStamp">Not signed.</div>
          </div>

          <div class="sigbox">
            <div class="h2">Borrower Signature</div>
            <div class="sigrow">
              <div>
                <label>Typed Name</label>
                <input id="borrowerSigName" placeholder="Type full legal name" />
              </div>
              <div>
                <label>Date/Time (auto)</label>
                <input id="borrowerSigTime" readonly />
              </div>
            </div>
            <div class="check">
              <input type="checkbox" id="borrowerAgree" />
              <div>
                I confirm I am the Borrower (or authorized representative) and I agree to this Loan Agreement.
              </div>
            </div>
            <button class="primary" type="button" onclick="sign('borrower')">Sign as Borrower</button>
            <div class="stamp" id="borrowerStamp">Not signed.</div>
          </div>
        </div>

        <div class="footerNote">
          Platform disclaimer: AmicBridge is not a party to this agreement, does not hold funds, does not provide escrow,
          does not guarantee repayment, and does not verify identity or terms unless explicitly stated elsewhere.
        </div>
      </div>
    </div>
  </div>

<script>
  const $ = (id) => document.getElementById(id);

  const state = {
    locked: false,
    lenderSigned: false,
    borrowerSigned: false,
    agreementId: null,
  };

  function randomId(){
    // Simple readable ID (not cryptographic)
    const a = Math.random().toString(16).slice(2, 8).toUpperCase();
    const b = Math.random().toString(16).slice(2, 8).toUpperCase();
    return `AB-${a}-${b}`;
  }

  function nowISO(){
    const d = new Date();
    return d.toISOString().replace('T',' ').slice(0,19) + ' UTC';
  }

  function fillToday(){
    const d = new Date();
    const yyyy = d.getFullYear();
    const mm = String(d.getMonth()+1).padStart(2,'0');
    const dd = String(d.getDate()).padStart(2,'0');
    $('agreementDate').value = `${yyyy}-${mm}-${dd}`;
    render();
  }

  function setLockedInputs(disabled){
    const ids = [
      'agreementDate','jurisdiction',
      'lenderName','lenderAddress',
      'borrowerName','borrowerAddress',
      'principal','currency','interestRate','interestType',
      'schedule','finalDue','paymentMethod','collateral'
    ];
    ids.forEach(id => $(id).disabled = disabled);
  }

  function lockAgreement(){
    state.locked = true;
    setLockedInputs(true);
    $('statusText').textContent = 'Locked (ready to sign)';
  }

  function resetAll(){
    if (!confirm('Reset all fields and signatures?')) return;
    state.locked = false;
    state.lenderSigned = false;
    state.borrowerSigned = false;

    document.querySelectorAll('input, textarea, select').forEach(el => {
      if (el.id.endsWith('SigTime') || el.readOnly) return;
      if (el.type === 'checkbox') el.checked = false;
      else el.value = '';
    });

    $('lenderSigTime').value = '';
    $('borrowerSigTime').value = '';
    $('lenderStamp').textContent = 'Not signed.';
    $('borrowerStamp').textContent = 'Not signed.';
    $('statusText').textContent = 'Draft';
    setLockedInputs(false);
    render();
  }

  function sign(which){
    if (!state.locked) {
      alert('Lock the agreement first so the terms cannot be edited after signing.');
      return;
    }

    if (which === 'lender') {
      if (!$('lenderAgree').checked) return alert('Lender must check the confirmation box.');
      if (!$('lenderSigName').value.trim()) return alert('Lender must type their full legal name.');
      $('lenderSigTime').value = nowISO();
      state.lenderSigned = true;
      $('lenderStamp').textContent = `Signed by ${$('lenderSigName').value.trim()} on ${$('lenderSigTime').value}.`;
    }

    if (which === 'borrower') {
      if (!$('borrowerAgree').checked) return alert('Borrower must check the confirmation box.');
      if (!$('borrowerSigName').value.trim()) return alert('Borrower must type their full legal name.');
      $('borrowerSigTime').value = nowISO();
      state.borrowerSigned = true;
      $('borrowerStamp').textContent = `Signed by ${$('borrowerSigName').value.trim()} on ${$('borrowerSigTime').value}.`;
    }

    if (state.lenderSigned && state.borrowerSigned){
      $('statusText').textContent = 'Fully signed';
    }
  }

  function render(){
    const date = $('agreementDate').value || '[Date]';
    const juris = $('jurisdiction').value || '[Jurisdiction]';
    const lenderName = $('lenderName').value || '[Lender Name]';
    const lenderAddr = $('lenderAddress').value || '[Lender Address]';
    const borrowerName = $('borrowerName').value || '[Borrower Name]';
    const borrowerAddr = $('borrowerAddress').value || '[Borrower Address]';
    const principal = $('principal').value || '[Amount]';
    const currency = $('currency').value || '[Currency]';
    const rate = $('interestRate').value || '[Rate]';
    const rateType = $('interestType').value || '[Simple/Compound/None]';
    const schedule = $('schedule').value || '[Schedule]';
    const due = $('finalDue').value || '[Final Due Date]';
    const payment = $('paymentMethod').value || '[Payment instructions]';
    const collateral = $('collateral').value || 'None';

    $('legalText').innerHTML = `
      <p><b>LOAN AGREEMENT</b> (Independent Parties – Platform Not a Party)</p>
      <p class="muted">This Agreement is entered into on <b>${escapeHtml(date)}</b> by and between:</p>

      <h3>1. Parties</h3>
      <p><b>Lender:</b> ${escapeHtml(lenderName)}<br/>
      <span class="muted">Address:</span> ${escapeHtml(lenderAddr)}</p>

      <p><b>Borrower:</b> ${escapeHtml(borrowerName)}<br/>
      <span class="muted">Address:</span> ${escapeHtml(borrowerAddr)}</p>

      <h3>2. Loan Amount</h3>
      <p>The Lender agrees to loan the Borrower the principal sum of <b>${escapeHtml(principal)} ${escapeHtml(currency)}</b> (“Loan”).</p>

      <h3>3. Interest</h3>
      <p>The Loan shall bear interest at <b>${escapeHtml(rate)}</b>% per year, interest type: <b>${escapeHtml(rateType)}</b>, subject to applicable law.</p>

      <h3>4. Repayment Terms</h3>
      <p><b>Schedule:</b> ${escapeHtml(schedule)}<br/>
      <b>Final due date:</b> ${escapeHtml(due)}<br/>
      <b>Payment method/instructions:</b> ${escapeHtml(payment)}</p>

      <h3>5. Collateral / Security</h3>
      <p>${escapeHtml(collateral)}</p>

      <h3>6. Default</h3>
      <p>A default occurs if the Borrower fails to make any payment when due or breaches a material term of this Agreement. The Lender may pursue remedies permitted by law.</p>

      <h3>7. No Platform Involvement (AmicBridge Not a Party)</h3>
      <p>The Parties expressly acknowledge and agree that <b>AmicBridge.com</b>:</p>
      <p>
        • is <b>not a party</b> to this Agreement;<br/>
        • does <b>not</b> act as lender, borrower, broker, agent, advisor, custodian, escrow, or fiduciary;<br/>
        • does <b>not</b> guarantee, enforce, monitor, or verify performance of this Agreement;<br/>
        • bears <b>no responsibility or liability</b> for any aspect of the Loan or any dispute arising from it.
      </p>
      <p>This Agreement is solely between the Lender and the Borrower.</p>

      <h3>8. Governing Law</h3>
      <p>This Agreement shall be governed by the laws of <b>${escapeHtml(juris)}</b>.</p>

      <h3>9. Entire Agreement & Amendments</h3>
      <p>This document constitutes the entire agreement between the Parties. Any amendment must be in writing and signed by both Parties.</p>

      <h3>10. Electronic Signatures</h3>
      <p>The Parties agree that electronic signatures may be valid and enforceable to the extent permitted by applicable law.</p>

      <p class="muted" style="margin-top:14px">
        Agreement ID: <span class="mono">${escapeHtml(state.agreementId)}</span>
      </p>
    `;
  }

  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, (m) => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
    })[m]);
  }

  // init
  state.agreementId = randomId();
  $('agreementId').textContent = state.agreementId;

  // re-render on changes
  document.querySelectorAll('#agreementDate,#jurisdiction,#lenderName,#lenderAddress,#borrowerName,#borrowerAddress,#principal,#currency,#interestRate,#interestType,#schedule,#finalDue,#paymentMethod,#collateral')
    .forEach(el => el.addEventListener('input', render));

  render();
</script>
</body>
</html>
